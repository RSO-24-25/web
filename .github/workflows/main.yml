name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      # Checkout code
      - name: Checkout code
        uses: actions/checkout@v3

      # Set up Docker
      - name: Set up Docker
        uses: docker/setup-buildx-action@v2

      # Build Docker image
      - name: Build Docker image
        run: |
          docker build -t rsocontainerregistry.azurecr.io/web-service:latest .

      # Log in to Azure Container Registry using secrets
      - name: Log in to Azure Container Registry
        run: |
          echo "wI0p9nGKlzHZaAGFWjvDIuM9PYpwsnqlnZl/vkG1KD+ACRDgR2Zm" | docker login rsocontainerregistry.azurecr.io --username "rsocontainerregistry" --password-stdin

      # Push Docker image to Azure Container Registry
      - name: Push Docker image to ACR
        run: |
          docker push rsocontainerregistry.azurecr.io/web-service:latest


       # Install kubectl
      - name: Install kubectl
        run: |
          curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
          chmod +x kubectl
          sudo mv kubectl /usr/local/bin/

      # Configure Kubernetes access
      - name: Set up kubeconfig
        #env:
         # KUBE_CONFIG_DATA: ${{ secrets.KUBE_CONFIG }}
        run: |
          echo "YXBpVmVyc2lvbjogdjENCmNsdXN0ZXJzOg0KLSBjbHVzdGVyOg0KICAgIGNlcnRpZmljYXRlLWF1dGhvcml0eS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VVMlJFTkRRWFJEWjBGM1NVSkJaMGxSV0daa09HMXBhVWxZZGxGcFVsZGxjRTlEZDAxUlJFRk9RbWRyY1docmFVYzVkekJDUVZGelJrRkVRVTRLVFZGemQwTlJXVVJXVVZGRVJYZEthbGxVUVdkR2R6QjVUa1JGZVUxcVVYaE5hbFY1VFVSa1lVZEJPSGxOUkZVd1RWUkplVTVFUlhwTlJFbDNUakZ2ZHdwRVZFVk1UVUZyUjBFeFZVVkJlRTFEV1RKRmQyZG5TV2xOUVRCSFExTnhSMU5KWWpORVVVVkNRVkZWUVVFMFNVTkVkMEYzWjJkSlMwRnZTVU5CVVVSUENucHVkRFI1VkdKTVJsZFRjaTlLSzA5bGJIWldUVTVYYTBGalYwZHJhbEZhZHpRdmMyWTBWazVrZWtkMFRrZzFhRGRrUkN0RlMxVndWRlZPUjJoQlltSUtNbTQ1VldoR01tTlJUMFJzV1Roa01YaEdjV1JCUjFkeVJqTk5VM281YVhwWk56bFJiVE5CVWpabFoyZDFNSEpMY0ZGQlduRnVWSE5sVG5ZNFlXcElkd3BVVGxCNmJ6TnhWaTg0YmtKWGIwdzNXblJrWm00eGRrRk1jM05IWlVsVWNHUkNOVWxQY0M5NmEzZDZRak42WVU5ME5uRnFia3czYmxSRFEyRTVjemRwQ25aUU1IZHFkMjQwZGxFeE1VaExXSFJRVUZVeGVVSm5ZWEI0TXpOSk9ETmlkMkpqTDFGbVJUWnVVbk5rWW5sT01WSnJObGQxZFRsVWFsWlFjQzg0U0RjS01FMVJSbTlSTDBKRVkwUmpiMDl3V1RGUE1URmpVV1Y2UW5Jd1QwMUdSV1JMTTNCc2Rrd3lUemxZWkcwNE9IUTVaVmMxYlROcFRubHlkV0ZrT0VjNWRnbzRVMFZ3VEZOVmNqQkxRakpFWW04d1lWWjFSMjFJWmlzMGQwcEtPVEYyTlRJeFVsYzNRbVJ2YjB0NU5FbHZXR2NyV1VSRGVFa3phaXMyVjNKdGVVZHZDa0ppWjBjeVZWZG5WMmxzVVd4RVVqUk9OVGhuTWxWTmRIUnZia2RXU1ZoRFozQXlNV05CZWxkS1FrbFFNbWt3ZURoelVrbEpNSE56YTJwWUswZzJaVm9LWWtoUmEyRkhaakYxYjNwTVdtZHlUWHBpYmt4Tkt6RjVUM2N3TVdGeVQzUlVaMGt2WTNKVlFuVndNMVZZYjFoUVJGQnRaRFpJUlVjNVYyRTBibHB5Y2dwMWFEUXplblV2ZEVKSFIwcDJiVXhGVVdRMmNXMXJlVXRWYTNGbVQwdFplbGs1WWpaaWQyeEtUekZ2WkZWa1IybHNTSEV5ZDJGM2JqaExSMnd5WkhSWENrTlBiVzlYZVRoV1oyNXFRelpKVUhOUVRFUmpORTl6VlZsbU9TdHdkMVlyY2pocFFuSXlaRVpuWW1aUldtZzBURFpYT0VsTmFrVm1Xalo2UlVrck9Ia0tkemRUYkhwcEt6ZDJZakpQTmxkTGNUUXlLekpuY0ZneFZuUktSSGxRZVZZME9VRm1aRVJuZG0xM1NVUkJVVUZDYnpCSmQxRkVRVTlDWjA1V1NGRTRRZ3BCWmpoRlFrRk5RMEZ4VVhkRWQxbEVWbEl3VkVGUlNDOUNRVlYzUVhkRlFpOTZRV1JDWjA1V1NGRTBSVVpuVVZWQ01FaFlZakpZY2tWUVJtaHZkRVZ6Q21wNUsyUmFVMDB6WmxwM2QwUlJXVXBMYjFwSmFIWmpUa0ZSUlV4Q1VVRkVaMmRKUWtGSllWVXplRmhXTUNzNFVWQkNkeTlpT0N0SWRYY3dMMnRLY21jS1pEUXpVbVY2VkdVNVkwNTZiemxyZG1oR1NHeDNVbU5JVVVOUVZrZzFkV1IyU25OTFdFa3JlakJGVUUwMFYwMXlRVzh4UkdSNmVXOW9TRGd3YjFGQ1lncEpaR2d3VlZCaGJEVlhhV1pxWTAxS1J5OUxhRlpGVmtSdmNtaGhSMVZHWldzNFZVUXlPU3RVVjBKdmFWQjVWV1EzWWpGU1YyWkxkbWhqWnpOTlIwTmxDbXhRTDBseVUybGtVREpxYUdoQ1JERjZNSEJHV1RGUlRrbDZkSGRXWlhkU1EwaFZSbGRMWmpWTFVGcExkVFl2V0ROVlYzUmFNVWhQYUd0eVFWQjNXRXNLVWxsTEsyMUhaVFJPVXpaMFp6UjNkVXRsZURCWlQzVnlWazVtT1VWNVUzSnBkMjU0YTA1TU4xQnJVa3QzTDJwaldrcDJRMGRHV201aFlrTmljMFpVWndvck0zbFZWMUpPTVVSd2VHZE9aSEJVWWtOQmEyVmhZVGM0UnpOblNVUm5aV1JYUlc5RE0wRlVlU3RVWjFsbFpqZHdTSGg2VkVaSlRIQmFja2x2WkZSWUNtOTRURE5aVUd0SlZrUkpjMW8xVVdWb05tOHZVbVFyY0hkMVdWbE1iSEl4VFRoTWRVOTVZeXRhYzFjdllUbDRSR05zYVRZNE5XUXJUbTB5UmpkbFNITUtNM1pHTURWNU5ubG9PRGRHY0VjdlduaENhbXhUTUhKYVRuWXpVWEZSV2pWSVJsQjNkMFl5UmtjMVIzRnRNak5DYkRaVU5UUXpZWGx6VjBkdGVrNU1jQW81UVVKcmJrWjBkbFZEVjFKU1YyTmhSM1ZyYTFseFpqWk1NREkzYkZONFNEQTFaRk55Y1daWVRHUlpWSFZxUTA1Q2JVWlJibFYwUjBGbVIwTmFhQzltQ25OUFdWcGtVR3BTSzNGQlMxVkxlbUZNSzFKS1duRnZkbXBoVG5sTGIzaENibk5OU2xvME4xUnlha2huYTA5S2EzRkNkV2RuZFUxbVducExaa3RPY2pZS1kzRTBVemRNU1doU1ZsbEVja2hCVFZKb2QyeHlkVEU0V21sM1ZqQk5lSFUxY25kSk9XNTNkRTF0UTAwelVuSnlkMlprWVd0b1JqVmlOMmxEVERWWmNRcEVUVUkzVkdGR1ExSlBkazFXUWxOVUNpMHRMUzB0UlU1RUlFTkZVbFJKUmtsRFFWUkZMUzB0TFMwSw0KICAgIHNlcnZlcjogaHR0cHM6Ly9yc29rdWJlcm5ldGVzLWlybTAxZmI4LmhjcC5nZXJtYW55d2VzdGNlbnRyYWwuYXptazhzLmlvOjQ0Mw0KICBuYW1lOiByc29rdWJlcm5ldGVzDQpjb250ZXh0czoNCi0gY29udGV4dDoNCiAgICBjbHVzdGVyOiByc29rdWJlcm5ldGVzDQogICAgdXNlcjogY2x1c3RlclVzZXJfcnNva2NfZ3JvdXBfcnNva3ViZXJuZXRlcw0KICBuYW1lOiByc29rdWJlcm5ldGVzDQpjdXJyZW50LWNvbnRleHQ6IHJzb2t1YmVybmV0ZXMNCmtpbmQ6IENvbmZpZw0KcHJlZmVyZW5jZXM6IHt9DQp1c2VyczoNCi0gbmFtZTogY2x1c3RlclVzZXJfcnNva2NfZ3JvdXBfcnNva3ViZXJuZXRlcw0KICB1c2VyOg0KICAgIGNsaWVudC1jZXJ0aWZpY2F0ZS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VaSVZFTkRRWGRYWjBGM1NVSkJaMGxSU3pWUE1ESnhPWFZqWlVsRlYxZDRURnB1TlRCaVJFRk9RbWRyY1docmFVYzVkekJDUVZGelJrRkVRVTRLVFZGemQwTlJXVVJXVVZGRVJYZEthbGxVUVdWR2R6QjVUa1JGZVUxcVVYaE5hbFY1VFVSa1lVWjNNSGxPYWtWNVRXcFJlRTE2UVhsTlJHUmhUVVJCZUFwR2VrRldRbWRPVmtKQmIxUkViazQxWXpOU2JHSlVjSFJaV0U0d1dsaEtlazFTVlhkRmQxbEVWbEZSUkVWM2VIUlpXRTR3V2xoS2FtSkhiR3hpYmxGM0NtZG5TV2xOUVRCSFExTnhSMU5KWWpORVVVVkNRVkZWUVVFMFNVTkVkMEYzWjJkSlMwRnZTVU5CVVVOcFMyNXRjMGRZYkc1RVRGTXpPSFZTZW1KRlpIb0tWbXMyWkdseE1tNW5SRVZEYXpRM1pXMVFjbTlxZUVkNU1uQkRkSEJ1TlZkT1MxTlVValV4YVVvdlpFbDRPV2t3ZEUxUldUbHNabmxMUVM5SFRXZDROUXA1Y3psNFZXSjFVQ3QzU1ZKVGF5OVZURkVyVlcwelFuWldiR1p0VTB0T1dYbHhVSEZSUjNOak1EbHRiakJEWWtnek5IYzNNMmRDTXk5Q01USmxXR2RrQ2tNclYzRmhVV1ZqVFVRdlpERXJSMUIxVFdKU2NXdFNNVEJGTkd3eldYSmpORWRGY1hkS1FsaFROR2hPYjB3eGNYaEVlRzQwYVhkYVVqaEpPR3A1VEdJS1Rrb3ljVXhrTnpnelZXVnJOSHBCTW5vMVR6RkNZVlZGTlM5SGIybE9aMlZMTUhGMk0yWkVZVzFqVUVobWEycFlXR2RsYkdwNmRXVnNVRnB2TWtwTWFBb3pjbGhYY20wM2JIRk5lSFJJVERGd2NqRnZkMDEwT0VGbGFWUndPRVpHWTIxbGFsUlpNSFYwYWtNd1dHTlZVREJ3YkdKWlNWWTFOR2RoYVhKMVpETkRDbmM1VWk5U1NHczRhVUZIVUhJelVGcFNjRU13YlhKR056SXZWVkJ2Y1ZSTlFtbHVjVFJKTkM5NWNrZExhbEJsYkhsR1NsZE9XQzlEZDJFMmVtdHJhSFFLYjNCUWIwY3lka3czVmxCTE9VMHpXVWxWYTBWVWRFUnhXVVZZZFhOclRERlNPVVUzVTI5VVJHRk5XRGQ1TWl0d1ZtUTRXbWM1U0ZveGVUTXdLMlI2WmdweVMyMDRaM0k0V2pGWkwzcFdWR0YxUjBkU1FqQkNjSGg2Vnk4MVFqQmxVM2xEV0U1SmFGbENObFV5WnpoWVVrOUVNVmhySzNWQ2JrTnFVVU53WVdzNENqSnhXRVZRYWtoQ2NESlVhakJSYUVoVlJUbGtiMkprYW01cU5XeEZiMWR1WW05cE1UUXdkUzlyVFc1aFpXMW5aVzFYZFZwRFNFWjZiM0JCUWxkeFIwNEthWFkyWWxkb2JWSkdaRWhFVDJWR1ZHZHJRMGhWT1U1aFdWSjFPWGh5VmxkUlNWWnFibVkxWTJwbFoxSmpVMWhKVWs5MU5XcFJSVkI1V1doME9HSjRSd3BGVFZoTFVFcDZhVVZJZEhsU2NVa3JjbTFYZUc5UlNVUkJVVUZDYnpGWmQxWkVRVTlDWjA1V1NGRTRRa0ZtT0VWQ1FVMURRbUZCZDBWM1dVUldVakJzQ2tKQmQzZERaMWxKUzNkWlFrSlJWVWhCZDBsM1JFRlpSRlpTTUZSQlVVZ3ZRa0ZKZDBGRVFXWkNaMDVXU0ZOTlJVZEVRVmRuUWxGSVVXUmtkbHBsYzFFS09GZEhhVEJUZVZCTU5URnNTWHBrT1c1RVFVNUNaMnR4YUd0cFJ6bDNNRUpCVVhOR1FVRlBRMEZuUlVGa1owaFpjbWhxUm5obmVuaDBRM0IyT1RSRmFBcEJTR2RHUXk5NFEweHRVV1paVm1scVRVSk1TVFV6Y3pSdGNqQjVNRTVHZDBkd1RuRnhjM0ZyVWtOcldWZHhXSGhDWmpRM1pYUk1jbnBzTVZVeWFETk1DbGhRVW1OU1owZE1XVUpGWVU1dU9HOWlNVzFLVjFkdE9YbFpWbGRLU0ZKWldrRlpaMjAyYkRKSVpYZENlR1JPWlVJMVNtZzRjVGxvWVc1b1pISXljVGtLZDFodE1sQkxSa3RaV1dOV01rbE1OVXB6VnpCV2NtaEJWUzlxV2pOM2REWmxTbE53ZVhSV2JsVm5VbGRIYXpWQ1ZubFJVbFEzZUd4dFlXZzRlR1pLTWdvd1lYcDVVbkk1UWt4RU1uaHhUSGQzVWpOSFYybG9LelpVVVdkSFRUbHdUamRqWXpOR1owUjRVamx5Y1ZGa1MxcGFWVUZIVWpWVlkzQXlSbEJWU0VKeENtbHRNM2s0YTA5d1dXaE5URVp4U3pkU2VsVkhaMEZ5V2pOaWRrRjRXSGhhYlRseFRVRkZOVlYyYTJSMlJpczFZM1pyYWtaRlVVWndSRWM1Y0V4SGEySUtZbmhEY21wdVdHOHpaMFJOVmtjd2NsZEZjV2w1VTFVMGRsTXJkMmhEWldoc1drbENTVFpSUkhacldreFVXVlJ2U1hOaFFXTkhTRTVXUVhwclpVcHhNQW81YlVKeGJuVmpVV3RHV0d0clZUVjNjekZRVlRCTWNubHlUM1V5VFVKeldHSkJjMFpxYTBWWlMwWnZZM0ptVVVObE5XaFRjMVpKVGxrMWVuWmpPWFF2Q2taTFRVbzRkMGszVW1SYWFuaEZkazFyTmxJMlZHRkxVa1JxY0RsRUwxTnlRV2RCUW1wWFluTm5OWHBYY1hGcmRGRkphU3N5VVcxQlZtSk5lblV4TXpNS2RsVllaVzlhWlc0MlNVTjBUbkJrWm5Vclp6SlZhRWcxVmxVM09FVmtlRkJWZVZSS1dsbHNWRGxZTURoVk9YSkxaQ3R4VWpodlIwUlZhWFk0VEhSTlJ3cEpRWFp0U1RZMk0yeHlRMlYwVTJRME0yOXhRbFkwVVhKak9EUktaelYyUm5sWE5YZEdPU3R6UWpWRlNqaGpaRUZpTVZGQ1dVdGFkQzlUTHpKemMyTmxDbkZRVm5wR05FRldNbkZZZUZaS1dYRkZkMVZ1WWk5RlBRb3RMUzB0TFVWT1JDQkRSVkpVU1VaSlEwRlVSUzB0TFMwdENnPT0NCiAgICBjbGllbnQta2V5LWRhdGE6IExTMHRMUzFDUlVkSlRpQlNVMEVnVUZKSlZrRlVSU0JMUlZrdExTMHRMUXBOU1VsS1MyZEpRa0ZCUzBOQlowVkJiMmx3TlhKQ2JEVmFkM2t3ZEM5TWEyTXllRWhqTVZwUGJsbHhkSEEwUVhoQmNFOVBNM0JxTmpaSk9GSnpkSEZSQ25KaFdpdFdhbE5yYXpCbFpGbHBaak5UVFdaWmRFeFVSVWRRV2xnNGFXZFFlR3BKVFdWamNsQmpWa2MzYWk5elEwVlZjRkF4UXpCUWJFcDBkMkl4V2xnS05XdHBhbGROY1dvMmEwSnlTRTVRV25BNVFXMTRPU3ROVHprMFFXUXZkMlJrYm13MFNGRjJiSEZ0YTBodVJFRXZNMlJtYUdvM2FrY3dZWEJGWkdSQ1R3cEtaREpMTTA5Q2FFdHpRMUZXTUhWSlZHRkRPV0Z6VVRoYUswbHpSMVZtUTFCSk9Ha3llbE5rY1drelpTOU9NVWh3VDAxM1RuTXJWSFJSVjJ4Q1QyWjRDbkZKYWxsSWFYUkxjamt6ZHpKd2JrUjRNelZKTVRFMFNIQlpPRGR1Y0ZReVlVNXBVelJrTmpFeGNUVjFOV0ZxVFdKU2VUbGhZVGxoVFVSTVprRkliMnNLTm1aQ1VsaEtibTh3TWs1TWNsbDNkRVl6UmtRNVMxcFhNa05HWldWSlIyOXhOMjVrZDNOUVZXWXdValZRU1dkQ2FqWTVlakpWWVZGMFNuRjRaVGwyTVFwRU5rdHJla0ZaY0RaMVEwOVFPSEY0YVc5Nk0zQmphRk5XYWxZdmQzTkhkWE0xU2tsaVlVdFVOa0owY25rck1WUjVkbFJPTWtOR1NrSkZOMUUyYlVKR0NqZHlTa001VldaU1R6QnhSWGN5YWtZck9IUjJjVlpZWmtkWlVGSXlaR04wT1ZCdVl6TTJlWEIyU1VzdlIyUlhVRGd4VlRKeWFHaHJVV1JCWVdOak1YWUtLMUZrU0d0eloyeDZVMGxYUVdWc1RtOVFSakJVWnpsV05WQnlaMXAzYnpCQmNWZHdVRTV4YkhoRU5IaDNZV1JyTkRsRlNWSXhRbEJZWVVjeldUVTBLd3BhVWt0R2NESTJTWFJsVGt4Mk5VUktNbTV3YjBod2JISnRVV2g0WXpaTFVVRldjV2hxV1hJcmJURnZXbXRTV0ZKM2VtNW9WVFJLUVdneFVGUlhiVVZpQ25aallURldhME5HV1RVeksxaEpNMjlGV0VWc2VVVlVjblZaTUVKRU9HMUpZbVpIT0ZKb1JFWjVhbmxqTkdoQ04yTnJZV2xRY1RWc2MyRkZRMEYzUlVFS1FWRkxRMEZuUW1Ga1VrVk1NQ3RZY0dWeFpuZEhRbWRuTTJ4NE5ERk5UR3BzUkVSTWVETkZVRTg1YjNSQ2RUWnRMMDg1YkdObkwxVklXbEpLV2k5SlNncHBZVUZpTW1Gc1VuVjBRMEk1U0dWVFlWRXJhbkl6T0d4RmJGQjBUMEpzUVRNNVQyUlBLMjV4VmxOYU1HUXpTa05rWmxwbk1VdDNVbU0yUmxOaVV6ZEZDa0UwZWpoT2NIZHdlRXN4ZEZCeFEwNDBTV052V25OVVZXbHRkR0UwU1VWTE4zRXhiRVJZUlVOM1YwazNPV3hzU2t0Uk5IQklZbTlLTW5sMVZHazRTVWdLZUVGU0x5OVZNRm8yUkdwbmNtNW1NMmh4TUUxeFVDdE1TV3hxVTBvclduVjNSVzF5YVZrNWJWSmhhRzFYY1VoT1JEQnVLMnMxWXpCaFMydE9TWGczTVFwUVVITlhTbFZIVmt4VVpHRnJNRkF5YzFKQlZIQkpjRk0zT0ZBelNraEZVVkZLY25oc2NHWTFiMVprZVRsWVNqaG5iRkJ6WjNwWVIwaE9lREZ4UWtNNENtOWFNMk5RT1RSRVVIQlpiV2xSWWxkYWNqWTBkamRMYW00dmF6TjNUMHd3T1c1SU9EQjBNamx2UjFwSVZVdHVVV2RaTVROd1VWaFJNM1pyWVU1VFNFZ0tUVmR0TTNGMVZ6bERVbE4zVEdaME4zRkZVMk4wVWt0clVrUnhTV2RXUnpCbVJVWm5kVEZsZVM4MWRHdzNLM3BaTTA5VlpIbElXWFJoVVdoWGFXTnZjd3BMWTJGQ1NURTFUUzl3VGpsblpTczRVWGh0YzBsd2VsVklZVGt6T0dreU5sb3lSR1l6V2pCT2FFdFViRFpUTDNSbFkyc3JLMkZvWVVSWksyeHFVMlpVQ2pCVVRHeE1XRW96ZWxoSldHWk5SbUZIUkU5U2FGTndUa2xRZEd0b2JTOUpkVk5aUWpOblprcEZaREIwWkV4TU1rMHdOV05GTlVwSmFIZHBZV3h4ZFVZS016TkhUMVZtVGpoRk0waG5UVEpqZEdSRlVFTkNXVlpsVGpZM1pYbGhkVmhLSzJwVlpqUkZVemNyV1d0RVRraElVMHR5UTNkWksySmhRazg0TUN0VFR3b3hPV1Z4YVVkRWJXbEJZM2RCV0dGMVZubzNMM1JrTWtvMWNWSk1aV3R6V21WcU1tcFhhMUpPVkROelNVdDFiQzlqVVV0RFFWRkZRVEE1TVVsTVRrVnpDamg0Y0RGSVN6TnRUa1pvY0U1T1VVNDFiRE4yYTB0V2FWQktWblJpTUVVM00zaGtiME5pUWxkbE1WSkdWSFkzTWxSU2JuQnRRelZYUzNCUFNYQkVja0VLZUVKRVVqZFZibmRWTjAxRVRqaEZWSFpsU2xaWFRVZHNOMnhvT1VOelRtRlNXRFF3TkVoVmJuWktUVGsyVFhkNVRGWnNTV2RRSzFKSVQyWXlTbEkxV2dwR1VrbGxabWgxZFhaWWFuTkVaazlvWVd0YWRXbExha1pUZDFwWWJtVmxObU5SUjFkaFlVWklRWFpaYTJwc2JrUk5jR2RpTUZCb1lXZEtSVWx4ZG1WNENqQXZRMGxOYmtOemJXYzJiWFJXT0dORGJVVlFhRkZMZGpKTVlsTjNOalJoYWxSUEx6aDBWV1ZwTWt3ellVZEVUQ3N4Y0U5NFpITkpiRTF3YkROR1JIY0tTblF4UmpVeVUzQXJVUzl2U2tacmFtWTJRelUyUW1wbVFUQXpaR2RFTUZNMlJ6ZHNhRVpXU2toNGVWSlphRVphVmpGWmJFUkRLMFp1U2xKTlFscE9Ud3BCVTBaV2JtMHJSSE5ZZG5NeFVVdERRVkZGUVhjdlRFZDVWVzR5Wm1WVlRXSlZSRXhSVURKT00xcFhXbnB4VlU0NVMxSjFia1pZVm1kbmRVbzViME50Q2l0TGEzRkpRbTFtTWxoMWMxQlBXbHBDT0VrMk1sRllNRzF2ZVhFNU1XWkpWMEpETUhsMU1IQm5WSHB1VTBkcmMydDNSM1ZRUnpCamNGbHpRbll2Y0cwS2NGRTRMMk53TlUxNWRHZHliVFJMYlN0dVdHdG9WM2hUZEZKV1owUTNWVlpGU2tVeFJGUTNjVlYyVFdaRVRrUm1kMUI2VkRrM2RFdHlhVk41V0hsalVRcHNjWFpDY1c5RmNITjRhR0V2YnpFemFVc3JlV1ZoVjNvMmFVRXZORkJIT0VWcE1sZFdPVTFhTW5wMWVFUTBiWGhTTlRJMFdqUlpXbVZQUTBRdk9YSjNDbmw1Y0UxSldVWTBNVzkxU210VU1VZDNiRFowTW5GVk5sUnJWV2xwWTJjME1VSkVTRXhqY1VScFVrbEpRa0owVGs1SGFEQXJVWEpVZGxSTFJ6RTVlVE1LWVRaMmEyMTVNU3RGTHk4NGVIQnNWM2s0UVZKTmRHa3dOQ3RNUkhvdk5WRXdTM1l5T1RRd2JtNVJTME5CVVVWQmVtbHdRVGs0ZFRsaUwzWktRblJXTmdwa1IyMXpVbmR2Y2xaSlkwbG1jblJTVFhnNE9URk5kVzlHVm01VWJHTnZVUzluV25SUk5HWTNObVE1VkZoNFIwbExMM0JTVGpJNGN6aG9OV3REWjB0MkNtRlBUMFZQUW1OamRrOVRiM0JMZDJOaGFXMVdNVWxzZUV0TWNUbG1ZMkpFYldzck1rdFFiVGQzYTBac2RYQklNMmhwWkRkaldHUnpka2xLWWxKbFFuVUtWa1phT1dKeU5ISjZlREJ0Y0hKdFJUZzFUVU5aT1dsQ2NEQkphVTlxZDBWMlF6aEhUamRtUm5GV1FUTnJWWGczTVZONFRsRlJSM292UldaUFdWUmpaZ296ZGtwMU5qUlFXRFUwYlRNM2JteEZORk5DV0ZSTEx6VnBibkJZVTFab01sWnlSa0pxUlV4V1prbDZUM0IwTmxWS1UxbHVjRkpNYkM5M2RrZzBTRzl0Q25CUlZVUnZOSFJUWW1adVluSnhNakZLY1ZBME4ySmxRVEZOY0VaamJHTkVlSFJEYmpoTlVuUkxaak5qU1RGWFJFMVlSbXcwVHpoT1RYcENZUzl6WjBvS1dWRmlNREpSUzBOQlVVVkJkM1ZaWkRreVZFd3JhR3A2VEZaQkwxZDBkRmxYYTJoTkwyY3JTMUJCVnpWNE1rcFJlR1JNTkZoUGJFZExlSE5JZGxodUx3cFdka1FyVG0xNlpuSlRibmxKY0RoaU1YZFhTRzlDU0N0UmFXOU1lV0pRZG1wdk5tNWtXWGt6VHpGc01teHlMMjkxU0dZeFR6WkRlWEpCWW05cmRtTkdDbHAwVm5oUGJreFFOVEYxVUNzeU0zUk1hRk5sZDJORVduWlBjbEp0SzFWNVlWZE9UbEpTUVZaSWRqTmlWVUpPU1dselNWSmpWR1ZJT1c1WVRWbGxNbklLVEcxd1VsSTVVWEZUZUdsSVMzaDNORkZsTTJ3eU4xcFdNMHhpWmxSWFpUVXhhV2RtVXpGamJuTkNXV1Z5TUc1bk1rTjRiek4yY0VWbE4wRk5ibFk0VFFwa1JXNURaMWRaZW14WE1XRXJOV3hSZW5veFVYaDZPRkl4TURCQk9FaHFORTFGVW5oSFRGTllURVZQYURWWWVIaGpNRkp2Wm5ocldXbzROR1o1YjBkTUNsbENWa1YwWWpCaVlXWnZWMjlVTmxCWVoxQldlRWhKZFhFdkx5OHlLMkpaZFZGTFEwRlJSVUZxTDJaYWVqUmhTV3g1WTNBd2NtOHlNRVY1WTFaQ2QyNEtZVE53TjI5NlkxTjNhR1pRVkVJeVQxQldUMmhxZUZnelEydGhOSFZzWVc1b05Fb3hNbmRFT0U0eGF6UmhXREJvYjFVdksyZGpTMU5xSzFVeGMyTkhhUXB0WmpGallWVlRabGhSYkhWWFUyaG1XSGx5YTJkdGQySTBLekpoTlZSa0wyeEZhWFVyYms5NlZqUlJXVUU1U3psamJHY3dVekZCZVV4ek5teEpiMHRWQ2pZMWRYSmFkVGx5Wld4RVZHRk9iVUZIT0Rjd04xRXZiVzR6Y3pCc1JYaHZZamxIYm14aWNXTnJVR2gwUWxoU1YzcHJjWFZhVW1KV01GbDViUzlTU1RJS1FtbEpkRGhOYW5SdVVVOHlhekYxVW1jMFVtMHpkWGxhVlVjM1IzRTBValUzUjBVNE9HTktRMjEyY1RJd00xSlNTbkJOYjB0NE4wOWFPRFpRYTB0MWNBcFhVaXR0U0VJck1GTlVjWGhCYjFaVUswSlRMM0F6UTB0cmVVVXlOMWRCVldSMFowZGtiVk5aYW5WNVdtdHJVRTVHZFdsMVlqQlFhemxsZG05eVFUMDlDaTB0TFMwdFJVNUVJRkpUUVNCUVVrbFdRVlJGSUV0RldTMHRMUzB0Q2c9PQ0KICAgIHRva2VuOiBkcjV4eGJpMGZ6YjZycWgxbW51cHc4Ymt1MmNkZnRrem5za3U4ZXIyeWc2MGhncXJwZDltYXhucjRlNmV0cTV0ajVpZjNnYW14cThtYXFwOTJ0djdnMjlkb282OGI2MjBkNGprY2g2MzFmOG5peHR0bXhycHEyY2lvZ2RmMGM2cw0K" | base64 -d > kubeconfig
          export KUBECONFIG=kubeconfig

      # Install Helm
      - name: Install Helm
        run: |
          curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash

      # Deploy to Kubernetes using Helm chart
      - name: Deploy to Kubernetes
        run: |
          helm upgrade --install web-frontend ./web-frontend-helm \
            #--set image.repository=rsocontainerregistry.azurecr.io/web-frontend \
            #--set image.tag=latest
